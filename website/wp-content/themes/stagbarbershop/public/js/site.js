(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){return!(u(t,e,n)||_(t,e,n)||f(t,e,n)||h(t,e,n))}function e(t,e,n){var o=e._settings;!n&&r(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(x(t,e),y(t,o.class_loading)),H(t,e),s(t),C(o.callback_set,t))}var n=function(){return{elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_initial:"initial",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1}},o=function(t,e){return t.getAttribute("data-"+e)},i=function(t,e,n){var o="data-"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},s=function(t){return i(t,"was-processed","true")},r=function(t){return"true"===o(t,"was-processed")},l=function(t){return t.filter(function(t){return!r(t)})},a=function(t,e){return t.filter(function(t){return t!==e})},c=function(t){return t.getBoundingClientRect().top+window.pageYOffset-t.ownerDocument.documentElement.clientTop},u=function(t,e,n){return(e===window?window.innerHeight+window.pageYOffset:c(e)+e.offsetHeight)<=c(t)-n},d=function(t){return t.getBoundingClientRect().left+window.pageXOffset-t.ownerDocument.documentElement.clientLeft},f=function(t,e,n){var o=window.innerWidth;return(e===window?o+window.pageXOffset:d(e)+o)<=d(t)-n},_=function(t,e,n){return(e===window?window.pageYOffset:c(e))>=c(t)+n+t.offsetHeight},h=function(t,e,n){return(e===window?window.pageXOffset:d(e))>=d(t)+n+t.offsetWidth},p=function(t,e){var n,o=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)},g=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},m="undefined"!=typeof window,w=m&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),v=m&&"classList"in document.createElement("p"),b=m&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),y=function(t,e){v?t.classList.add(e):t.className+=(t.className?" ":"")+e},E=function(t,e){v?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},L=function(t,e,n,i){for(var s,r=0;s=t.children[r];r+=1)if("SOURCE"===s.tagName){var l=o(s,n);T(s,e,l,i)}},T=function(t,e,n,o){n&&t.setAttribute(e,g(n,o))},S=function(t,e){var n=b&&e.to_webp,i=o(t,e.data_src),s=o(t,e.data_bg);if(i){var r=g(i,n);t.style.backgroundImage='url("'+r+'")'}if(s){var l=g(s,n);t.style.backgroundImage=l}},O={IMG:function(t,e){var n=b&&e.to_webp,i=e.data_srcset,s=t.parentNode;s&&"PICTURE"===s.tagName&&L(s,"srcset",i,n);var r=o(t,e.data_sizes);T(t,"sizes",r);var l=o(t,i);T(t,"srcset",l,n);var a=o(t,e.data_src);T(t,"src",a,n)},IFRAME:function(t,e){var n=o(t,e.data_src);T(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,i=o(t,n);L(t,"src",n),T(t,"src",i),t.load()}},H=function(t,e){var n=e._settings,o=t.tagName,i=O[o];if(i)return i(t,n),e._updateLoadingCount(1),void(e._elements=a(e._elements,t));S(t,n)},C=function(t,e){t&&t(e)},k=function(t,e,n){t.addEventListener(e,n)},z=function(t,e,n){t.removeEventListener(e,n)},N=function(t,e,n){k(t,"load",e),k(t,"loadeddata",e),k(t,"error",n)},A=function(t,e,n){z(t,"load",e),z(t,"loadeddata",e),z(t,"error",n)},I=function(t,e,n){var o=n._settings,i=e?o.class_loaded:o.class_error,s=e?o.callback_load:o.callback_error,r=t.target;E(r,o.class_loading),y(r,i),C(s,r),n._updateLoadingCount(-1)},x=function(t,e){var n=function n(i){I(i,!0,e),A(t,n,o)},o=function o(i){I(i,!1,e),A(t,n,o)};N(t,n,o)},R=["IMG","IFRAME","VIDEO"],D=function(t,e){for(;e.length;)t.splice(e.pop(),1)},F=function(t){this._settings=_extends({},n(),t),this._loadingCount=0,this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._boundHandleScroll=this.handleScroll.bind(this),this._isFirstLoop=!0,window.addEventListener("resize",this._boundHandleScroll),this.update()};return F.prototype={_loopThroughElements:function(e){var n=this._settings,o=this._elements,i=o?o.length:0,s=void 0,r=[],l=this._isFirstLoop;if(l&&(this._isFirstLoop=!1),0!==i){for(s=0;s<i;s++){var a=o[s];n.skip_invisible&&null===a.offsetParent||(e||t(a,n.container,n.threshold))&&(l&&y(a,n.class_initial),this.load(a),r.push(s))}D(o,r)}else this._stopScrollHandler()},_startScrollHandler:function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._boundHandleScroll))},_stopScrollHandler:function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._boundHandleScroll))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},handleScroll:function(){var t=this._settings.throttle;if(0!==t){var e=Date.now(),n=t-(e-this._previousLoopTime);n<=0||n>t?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(function(){this._previousLoopTime=Date.now(),this._loopTimeout=null,this._loopThroughElements()}.bind(this),n))}else this._loopThroughElements()},loadAll:function(){this._loopThroughElements(!0)},update:function(t){var e=this._settings,n=t||this._queryOriginNode.querySelectorAll(e.elements_selector);this._elements=l(Array.prototype.slice.call(n)),w?this.loadAll():(this._loopThroughElements(),this._startScrollHandler())},destroy:function(){window.removeEventListener("resize",this._boundHandleScroll),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},load:function(t,n){e(t,this,n)}},m&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)p(t,n);else p(t,e)}(F,window.lazyLoadOptions),F});


},{}],2:[function(require,module,exports){
(function (global){
'use strict';

var _vanillaLazyload = require('vanilla-lazyload');

var _vanillaLazyload2 = _interopRequireDefault(_vanillaLazyload);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (document.getElementsByClassName('page-crew').length) {
	var crewmembers = document.getElementsByClassName('crewmember');
	Array.from(crewmembers).forEach(function (crewmember) {
		var photos = crewmember.querySelectorAll('.crewmember-photos div');

		if (photos.length) {
			var interval = void 0;

			new _vanillaLazyload2.default({
				elements_selector: '.crewmember-photos div:first-child img',
				callback_enter: function callback_enter(el) {
					el.parentNode.parentNode.parentNode.style.opacity = 1;
				}
			});

			crewmember.addEventListener('mouseenter', function () {
				Array.from(photos).forEach(function (photo) {
					var img = photo.getElementsByTagName('img')[0];
					var src = img.dataset.src;
					if (src && img.src !== src) {
						img.src = src;
					}
				});

				if (photos[1]) {
					var nextImg = photos[1].getElementsByTagName('img')[0];
					var rotatePhotos = function rotatePhotos() {
						photos[0].classList.remove('d-block');
						photos[1].classList.add('d-block');

						var index = 1;
						var nextIndex = photos[2] ? 2 : 0;
						interval = global.setInterval(function () {
							photos[index].classList.remove('d-block');
							photos[nextIndex].classList.add('d-block');
							index = index === photos.length - 1 ? 0 : index + 1;
							nextIndex = nextIndex === photos.length - 1 ? 0 : nextIndex + 1;
						}, 750);
					};

					if (nextImg.complete) {
						rotatePhotos();
					} else {
						nextImg.addEventListener('load', function () {
							rotatePhotos();
						});
					}
				}
			});

			crewmember.addEventListener('mouseleave', function () {
				crewmember.getElementsByClassName('d-block')[0].classList.remove('d-block');
				photos[0].classList.add('d-block');
				clearInterval(interval);
			});
		}
	});
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"vanilla-lazyload":1}],3:[function(require,module,exports){
'use strict';

require('./navbar');

require('./slider');

require('./page-header');

require('./crew');

},{"./crew":2,"./navbar":4,"./page-header":5,"./slider":6}],4:[function(require,module,exports){
'use strict';

var nav = document.getElementById('site-nav');

if (nav) {
	var menuToggle = document.getElementById('menu-toggle');

	if (menuToggle) {
		menuToggle.addEventListener('click', function (e) {
			e.preventDefault();
			menuToggle.classList.toggle('collapsed');
			nav.classList.toggle('collapsed');
		});
	}
}

},{}],5:[function(require,module,exports){
(function (global){
'use strict';

var postThumbnail = document.getElementsByClassName('post-thumbnail')[0];
if (postThumbnail) {
	global.addEventListener('scroll', function () {
		var y = global.scrollY;
		postThumbnail.style.transform = 'translateY(-' + parseInt(y / 2, 10) + 'px)';
	});
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
(function (global){
'use strict';

var tinySlider = global.tns;
var slider = document.getElementById('slider');
if (tinySlider && slider) {
	tinySlider({
		container: slider,
		mode: slider.dataset.mode || 'carousel',
		lazyload: slider.dataset.lazyload || false,
		controls: slider.dataset.controls || false,
		nav: slider.dataset.nav || false,
		autoplay: slider.dataset.autoplay || true,
		touch: slider.dataset.touch || false
	});
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdmFuaWxsYS1sYXp5bG9hZC9kaXN0L2xhenlsb2FkLm1pbi5qcyIsIndlYnNpdGUvd3AtY29udGVudC90aGVtZXMvc3RhZ2JhcmJlcnNob3AvYXNzZXRzL3NjcmlwdHMvY3Jldy5qcyIsIndlYnNpdGUvd3AtY29udGVudC90aGVtZXMvc3RhZ2JhcmJlcnNob3AvYXNzZXRzL3NjcmlwdHMvaW5kZXguanMiLCJ3ZWJzaXRlL3dwLWNvbnRlbnQvdGhlbWVzL3N0YWdiYXJiZXJzaG9wL2Fzc2V0cy9zY3JpcHRzL25hdmJhci5qcyIsIndlYnNpdGUvd3AtY29udGVudC90aGVtZXMvc3RhZ2JhcmJlcnNob3AvYXNzZXRzL3NjcmlwdHMvcGFnZS1oZWFkZXIuanMiLCJ3ZWJzaXRlL3dwLWNvbnRlbnQvdGhlbWVzL3N0YWdiYXJiZXJzaG9wL2Fzc2V0cy9zY3JpcHRzL3NsaWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTs7Ozs7QUNGQTs7Ozs7O0FBRUEsSUFBSSxTQUFTLHNCQUFULENBQWdDLFdBQWhDLEVBQTZDLE1BQWpELEVBQXlEO0FBQ3hELEtBQU0sY0FBYyxTQUFTLHNCQUFULENBQWdDLFlBQWhDLENBQXBCO0FBQ0EsT0FBTSxJQUFOLENBQVcsV0FBWCxFQUF3QixPQUF4QixDQUFnQyxzQkFBYztBQUM3QyxNQUFNLFNBQVMsV0FBVyxnQkFBWCxDQUE0Qix3QkFBNUIsQ0FBZjs7QUFFQSxNQUFJLE9BQU8sTUFBWCxFQUFtQjtBQUNsQixPQUFJLGlCQUFKOztBQUVBLE9BQUkseUJBQUosQ0FBYTtBQUNaLHVCQUFtQix3Q0FEUDtBQUVaLGtCQUZZLDBCQUVHLEVBRkgsRUFFTztBQUNsQixRQUFHLFVBQUgsQ0FBYyxVQUFkLENBQXlCLFVBQXpCLENBQW9DLEtBQXBDLENBQTBDLE9BQTFDLEdBQW9ELENBQXBEO0FBQ0E7QUFK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UyxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBZjtBQUNBLElBQUksY0FBYyxNQUFsQixFQUEwQjtBQUN6QixZQUFXO0FBQ1YsYUFBVyxNQUREO0FBRVYsUUFBTSxPQUFPLE9BQVAsQ0FBZSxJQUFmLElBQXVCLFVBRm5CO0FBR1YsWUFBVSxPQUFPLE9BQVAsQ0FBZSxRQUFmLElBQTJCLEtBSDNCO0FBSVYsWUFBVSxPQUFPLE9BQVAsQ0FBZSxRQUFmLElBQTJCLEtBSjNCO0FBS1YsT0FBSyxPQUFPLE9BQVAsQ0FBZSxHQUFmLElBQXNCLEtBTGpCO0FBTVYsWUFBVSxPQUFPLE9BQVAsQ0FBZSxRQUFmLElBQTJCLElBTjNCO0FBT1YsU0FBTyxPQUFPLE9BQVAsQ0FBZSxLQUFmLElBQXdCO0FBUHJCLEVBQVg7QUFTQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsInZhciBfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciBvIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJih0W29dPW5bb10pfXJldHVybiB0fSxfdHlwZW9mPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9OyFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGV4cG9ydHM/XCJ1bmRlZmluZWRcIjpfdHlwZW9mKGV4cG9ydHMpKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTp0LkxhenlMb2FkPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlLG4pe3JldHVybiEodSh0LGUsbil8fF8odCxlLG4pfHxmKHQsZSxuKXx8aCh0LGUsbikpfWZ1bmN0aW9uIGUodCxlLG4pe3ZhciBvPWUuX3NldHRpbmdzOyFuJiZyKHQpfHwoQyhvLmNhbGxiYWNrX2VudGVyLHQpLFIuaW5kZXhPZih0LnRhZ05hbWUpPi0xJiYoeCh0LGUpLHkodCxvLmNsYXNzX2xvYWRpbmcpKSxIKHQsZSkscyh0KSxDKG8uY2FsbGJhY2tfc2V0LHQpKX12YXIgbj1mdW5jdGlvbigpe3JldHVybntlbGVtZW50c19zZWxlY3RvcjpcImltZ1wiLGNvbnRhaW5lcjp3aW5kb3csdGhyZXNob2xkOjMwMCx0aHJvdHRsZToxNTAsZGF0YV9zcmM6XCJzcmNcIixkYXRhX3NyY3NldDpcInNyY3NldFwiLGRhdGFfc2l6ZXM6XCJzaXplc1wiLGRhdGFfYmc6XCJiZ1wiLGNsYXNzX2xvYWRpbmc6XCJsb2FkaW5nXCIsY2xhc3NfbG9hZGVkOlwibG9hZGVkXCIsY2xhc3NfZXJyb3I6XCJlcnJvclwiLGNsYXNzX2luaXRpYWw6XCJpbml0aWFsXCIsc2tpcF9pbnZpc2libGU6ITAsY2FsbGJhY2tfbG9hZDpudWxsLGNhbGxiYWNrX2Vycm9yOm51bGwsY2FsbGJhY2tfc2V0Om51bGwsY2FsbGJhY2tfZW50ZXI6bnVsbCxjYWxsYmFja19maW5pc2g6bnVsbCx0b193ZWJwOiExfX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmdldEF0dHJpYnV0ZShcImRhdGEtXCIrZSl9LGk9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPVwiZGF0YS1cIitlO251bGwhPT1uP3Quc2V0QXR0cmlidXRlKG8sbik6dC5yZW1vdmVBdHRyaWJ1dGUobyl9LHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCxcIndhcy1wcm9jZXNzZWRcIixcInRydWVcIil9LHI9ZnVuY3Rpb24odCl7cmV0dXJuXCJ0cnVlXCI9PT1vKHQsXCJ3YXMtcHJvY2Vzc2VkXCIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hcih0KX0pfSxhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pfSxjPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCt3aW5kb3cucGFnZVlPZmZzZXQtdC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B9LHU9ZnVuY3Rpb24odCxlLG4pe3JldHVybihlPT09d2luZG93P3dpbmRvdy5pbm5lckhlaWdodCt3aW5kb3cucGFnZVlPZmZzZXQ6YyhlKStlLm9mZnNldEhlaWdodCk8PWModCktbn0sZD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K3dpbmRvdy5wYWdlWE9mZnNldC10Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnR9LGY9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXdpbmRvdy5pbm5lcldpZHRoO3JldHVybihlPT09d2luZG93P28rd2luZG93LnBhZ2VYT2Zmc2V0OmQoZSkrbyk8PWQodCktbn0sXz1mdW5jdGlvbih0LGUsbil7cmV0dXJuKGU9PT13aW5kb3c/d2luZG93LnBhZ2VZT2Zmc2V0OmMoZSkpPj1jKHQpK24rdC5vZmZzZXRIZWlnaHR9LGg9ZnVuY3Rpb24odCxlLG4pe3JldHVybihlPT09d2luZG93P3dpbmRvdy5wYWdlWE9mZnNldDpkKGUpKT49ZCh0KStuK3Qub2Zmc2V0V2lkdGh9LHA9ZnVuY3Rpb24odCxlKXt2YXIgbixvPW5ldyB0KGUpO3RyeXtuPW5ldyBDdXN0b21FdmVudChcIkxhenlMb2FkOjpJbml0aWFsaXplZFwiLHtkZXRhaWw6e2luc3RhbmNlOm99fSl9Y2F0Y2godCl7KG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSkuaW5pdEN1c3RvbUV2ZW50KFwiTGF6eUxvYWQ6OkluaXRpYWxpemVkXCIsITEsITEse2luc3RhbmNlOm99KX13aW5kb3cuZGlzcGF0Y2hFdmVudChuKX0sZz1mdW5jdGlvbih0LGUpe3JldHVybiBlP3QucmVwbGFjZSgvXFwuKGpwZT9nfHBuZykvZ2ksXCIud2VicFwiKTp0fSxtPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3csdz1tJiYhKFwib25zY3JvbGxcImluIHdpbmRvdyl8fC8oZ2xlfGluZ3xybylib3R8Y3Jhd2x8c3BpZGVyL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSx2PW0mJlwiY2xhc3NMaXN0XCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSxiPW0mJmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4hKCF0LmdldENvbnRleHR8fCF0LmdldENvbnRleHQoXCIyZFwiKSkmJjA9PT10LnRvRGF0YVVSTChcImltYWdlL3dlYnBcIikuaW5kZXhPZihcImRhdGE6aW1hZ2Uvd2VicFwiKX0oKSx5PWZ1bmN0aW9uKHQsZSl7dj90LmNsYXNzTGlzdC5hZGQoZSk6dC5jbGFzc05hbWUrPSh0LmNsYXNzTmFtZT9cIiBcIjpcIlwiKStlfSxFPWZ1bmN0aW9uKHQsZSl7dj90LmNsYXNzTGlzdC5yZW1vdmUoZSk6dC5jbGFzc05hbWU9dC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiK2UrXCIoXFxcXHMrfCQpXCIpLFwiIFwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikucmVwbGFjZSgvXFxzKyQvLFwiXCIpfSxMPWZ1bmN0aW9uKHQsZSxuLGkpe2Zvcih2YXIgcyxyPTA7cz10LmNoaWxkcmVuW3JdO3IrPTEpaWYoXCJTT1VSQ0VcIj09PXMudGFnTmFtZSl7dmFyIGw9byhzLG4pO1QocyxlLGwsaSl9fSxUPWZ1bmN0aW9uKHQsZSxuLG8pe24mJnQuc2V0QXR0cmlidXRlKGUsZyhuLG8pKX0sUz1mdW5jdGlvbih0LGUpe3ZhciBuPWImJmUudG9fd2VicCxpPW8odCxlLmRhdGFfc3JjKSxzPW8odCxlLmRhdGFfYmcpO2lmKGkpe3ZhciByPWcoaSxuKTt0LnN0eWxlLmJhY2tncm91bmRJbWFnZT0ndXJsKFwiJytyKydcIiknfWlmKHMpe3ZhciBsPWcocyxuKTt0LnN0eWxlLmJhY2tncm91bmRJbWFnZT1sfX0sTz17SU1HOmZ1bmN0aW9uKHQsZSl7dmFyIG49YiYmZS50b193ZWJwLGk9ZS5kYXRhX3NyY3NldCxzPXQucGFyZW50Tm9kZTtzJiZcIlBJQ1RVUkVcIj09PXMudGFnTmFtZSYmTChzLFwic3Jjc2V0XCIsaSxuKTt2YXIgcj1vKHQsZS5kYXRhX3NpemVzKTtUKHQsXCJzaXplc1wiLHIpO3ZhciBsPW8odCxpKTtUKHQsXCJzcmNzZXRcIixsLG4pO3ZhciBhPW8odCxlLmRhdGFfc3JjKTtUKHQsXCJzcmNcIixhLG4pfSxJRlJBTUU6ZnVuY3Rpb24odCxlKXt2YXIgbj1vKHQsZS5kYXRhX3NyYyk7VCh0LFwic3JjXCIsbil9LFZJREVPOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5kYXRhX3NyYyxpPW8odCxuKTtMKHQsXCJzcmNcIixuKSxUKHQsXCJzcmNcIixpKSx0LmxvYWQoKX19LEg9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLl9zZXR0aW5ncyxvPXQudGFnTmFtZSxpPU9bb107aWYoaSlyZXR1cm4gaSh0LG4pLGUuX3VwZGF0ZUxvYWRpbmdDb3VudCgxKSx2b2lkKGUuX2VsZW1lbnRzPWEoZS5fZWxlbWVudHMsdCkpO1ModCxuKX0sQz1mdW5jdGlvbih0LGUpe3QmJnQoZSl9LGs9ZnVuY3Rpb24odCxlLG4pe3QuYWRkRXZlbnRMaXN0ZW5lcihlLG4pfSx6PWZ1bmN0aW9uKHQsZSxuKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX0sTj1mdW5jdGlvbih0LGUsbil7ayh0LFwibG9hZFwiLGUpLGsodCxcImxvYWRlZGRhdGFcIixlKSxrKHQsXCJlcnJvclwiLG4pfSxBPWZ1bmN0aW9uKHQsZSxuKXt6KHQsXCJsb2FkXCIsZSkseih0LFwibG9hZGVkZGF0YVwiLGUpLHoodCxcImVycm9yXCIsbil9LEk9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4uX3NldHRpbmdzLGk9ZT9vLmNsYXNzX2xvYWRlZDpvLmNsYXNzX2Vycm9yLHM9ZT9vLmNhbGxiYWNrX2xvYWQ6by5jYWxsYmFja19lcnJvcixyPXQudGFyZ2V0O0UocixvLmNsYXNzX2xvYWRpbmcpLHkocixpKSxDKHMsciksbi5fdXBkYXRlTG9hZGluZ0NvdW50KC0xKX0seD1mdW5jdGlvbih0LGUpe3ZhciBuPWZ1bmN0aW9uIG4oaSl7SShpLCEwLGUpLEEodCxuLG8pfSxvPWZ1bmN0aW9uIG8oaSl7SShpLCExLGUpLEEodCxuLG8pfTtOKHQsbixvKX0sUj1bXCJJTUdcIixcIklGUkFNRVwiLFwiVklERU9cIl0sRD1mdW5jdGlvbih0LGUpe2Zvcig7ZS5sZW5ndGg7KXQuc3BsaWNlKGUucG9wKCksMSl9LEY9ZnVuY3Rpb24odCl7dGhpcy5fc2V0dGluZ3M9X2V4dGVuZHMoe30sbigpLHQpLHRoaXMuX2xvYWRpbmdDb3VudD0wLHRoaXMuX3F1ZXJ5T3JpZ2luTm9kZT10aGlzLl9zZXR0aW5ncy5jb250YWluZXI9PT13aW5kb3c/ZG9jdW1lbnQ6dGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLHRoaXMuX3ByZXZpb3VzTG9vcFRpbWU9MCx0aGlzLl9sb29wVGltZW91dD1udWxsLHRoaXMuX2JvdW5kSGFuZGxlU2Nyb2xsPXRoaXMuaGFuZGxlU2Nyb2xsLmJpbmQodGhpcyksdGhpcy5faXNGaXJzdExvb3A9ITAsd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl9ib3VuZEhhbmRsZVNjcm9sbCksdGhpcy51cGRhdGUoKX07cmV0dXJuIEYucHJvdG90eXBlPXtfbG9vcFRocm91Z2hFbGVtZW50czpmdW5jdGlvbihlKXt2YXIgbj10aGlzLl9zZXR0aW5ncyxvPXRoaXMuX2VsZW1lbnRzLGk9bz9vLmxlbmd0aDowLHM9dm9pZCAwLHI9W10sbD10aGlzLl9pc0ZpcnN0TG9vcDtpZihsJiYodGhpcy5faXNGaXJzdExvb3A9ITEpLDAhPT1pKXtmb3Iocz0wO3M8aTtzKyspe3ZhciBhPW9bc107bi5za2lwX2ludmlzaWJsZSYmbnVsbD09PWEub2Zmc2V0UGFyZW50fHwoZXx8dChhLG4uY29udGFpbmVyLG4udGhyZXNob2xkKSkmJihsJiZ5KGEsbi5jbGFzc19pbml0aWFsKSx0aGlzLmxvYWQoYSksci5wdXNoKHMpKX1EKG8scil9ZWxzZSB0aGlzLl9zdG9wU2Nyb2xsSGFuZGxlcigpfSxfc3RhcnRTY3JvbGxIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5faXNIYW5kbGluZ1Njcm9sbHx8KHRoaXMuX2lzSGFuZGxpbmdTY3JvbGw9ITAsdGhpcy5fc2V0dGluZ3MuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9ib3VuZEhhbmRsZVNjcm9sbCkpfSxfc3RvcFNjcm9sbEhhbmRsZXI6ZnVuY3Rpb24oKXt0aGlzLl9pc0hhbmRsaW5nU2Nyb2xsJiYodGhpcy5faXNIYW5kbGluZ1Njcm9sbD0hMSx0aGlzLl9zZXR0aW5ncy5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX2JvdW5kSGFuZGxlU2Nyb2xsKSl9LF91cGRhdGVMb2FkaW5nQ291bnQ6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ0NvdW50Kz10LDA9PT10aGlzLl9lbGVtZW50cy5sZW5ndGgmJjA9PT10aGlzLl9sb2FkaW5nQ291bnQmJkModGhpcy5fc2V0dGluZ3MuY2FsbGJhY2tfZmluaXNoKX0saGFuZGxlU2Nyb2xsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2V0dGluZ3MudGhyb3R0bGU7aWYoMCE9PXQpe3ZhciBlPURhdGUubm93KCksbj10LShlLXRoaXMuX3ByZXZpb3VzTG9vcFRpbWUpO248PTB8fG4+dD8odGhpcy5fbG9vcFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fbG9vcFRpbWVvdXQpLHRoaXMuX2xvb3BUaW1lb3V0PW51bGwpLHRoaXMuX3ByZXZpb3VzTG9vcFRpbWU9ZSx0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCkpOnRoaXMuX2xvb3BUaW1lb3V0fHwodGhpcy5fbG9vcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuX3ByZXZpb3VzTG9vcFRpbWU9RGF0ZS5ub3coKSx0aGlzLl9sb29wVGltZW91dD1udWxsLHRoaXMuX2xvb3BUaHJvdWdoRWxlbWVudHMoKX0uYmluZCh0aGlzKSxuKSl9ZWxzZSB0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCl9LGxvYWRBbGw6ZnVuY3Rpb24oKXt0aGlzLl9sb29wVGhyb3VnaEVsZW1lbnRzKCEwKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3NldHRpbmdzLG49dHx8dGhpcy5fcXVlcnlPcmlnaW5Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoZS5lbGVtZW50c19zZWxlY3Rvcik7dGhpcy5fZWxlbWVudHM9bChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKSksdz90aGlzLmxvYWRBbGwoKToodGhpcy5fbG9vcFRocm91Z2hFbGVtZW50cygpLHRoaXMuX3N0YXJ0U2Nyb2xsSGFuZGxlcigpKX0sZGVzdHJveTpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fYm91bmRIYW5kbGVTY3JvbGwpLHRoaXMuX2xvb3BUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2xvb3BUaW1lb3V0KSx0aGlzLl9sb29wVGltZW91dD1udWxsKSx0aGlzLl9zdG9wU2Nyb2xsSGFuZGxlcigpLHRoaXMuX2VsZW1lbnRzPW51bGwsdGhpcy5fcXVlcnlPcmlnaW5Ob2RlPW51bGwsdGhpcy5fc2V0dGluZ3M9bnVsbH0sbG9hZDpmdW5jdGlvbih0LG4pe2UodCx0aGlzLG4pfX0sbSYmZnVuY3Rpb24odCxlKXtpZihlKWlmKGUubGVuZ3RoKWZvcih2YXIgbixvPTA7bj1lW29dO28rPTEpcCh0LG4pO2Vsc2UgcCh0LGUpfShGLHdpbmRvdy5sYXp5TG9hZE9wdGlvbnMpLEZ9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlsb2FkLm1pbi5qcy5tYXBcbiIsImltcG9ydCBMYXp5TG9hZCBmcm9tICd2YW5pbGxhLWxhenlsb2FkJztcblxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3BhZ2UtY3JldycpLmxlbmd0aCkge1xuXHRjb25zdCBjcmV3bWVtYmVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NyZXdtZW1iZXInKTtcblx0QXJyYXkuZnJvbShjcmV3bWVtYmVycykuZm9yRWFjaChjcmV3bWVtYmVyID0+IHtcblx0XHRjb25zdCBwaG90b3MgPSBjcmV3bWVtYmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jcmV3bWVtYmVyLXBob3RvcyBkaXYnKTtcblxuXHRcdGlmIChwaG90b3MubGVuZ3RoKSB7XG5cdFx0XHRsZXQgaW50ZXJ2YWw7XG5cblx0XHRcdG5ldyBMYXp5TG9hZCh7XG5cdFx0XHRcdGVsZW1lbnRzX3NlbGVjdG9yOiAnLmNyZXdtZW1iZXItcGhvdG9zIGRpdjpmaXJzdC1jaGlsZCBpbWcnLFxuXHRcdFx0XHRjYWxsYmFja19lbnRlcihlbCkge1xuXHRcdFx0XHRcdGVsLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Y3Jld21lbWJlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1x0XHRcblx0XHRcdFx0QXJyYXkuZnJvbShwaG90b3MpLmZvckVhY2gocGhvdG8gPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGltZyA9IHBob3RvLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKVswXTtcblx0XHRcdFx0XHRjb25zdCBzcmMgPSBpbWcuZGF0YXNldC5zcmM7XG5cdFx0XHRcdFx0aWYgKHNyYyAmJiBpbWcuc3JjICE9PSBzcmMpIHtcblx0XHRcdFx0XHRcdGltZy5zcmMgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAocGhvdG9zWzFdKSB7XG5cdFx0XHRcdFx0Y29uc3QgbmV4dEltZyA9IHBob3Rvc1sxXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylbMF07XG5cdFx0XHRcdFx0Y29uc3Qgcm90YXRlUGhvdG9zID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0cGhvdG9zWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2QtYmxvY2snKTtcblx0XHRcdFx0XHRcdHBob3Rvc1sxXS5jbGFzc0xpc3QuYWRkKCdkLWJsb2NrJyk7XG5cblx0XHRcdFx0XHRcdGxldCBpbmRleCA9IDE7XG5cdFx0XHRcdFx0XHRsZXQgbmV4dEluZGV4ID0gcGhvdG9zWzJdID8gMiA6IDA7XG5cdFx0XHRcdFx0XHRpbnRlcnZhbCA9IGdsb2JhbC5zZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHBob3Rvc1tpbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnZC1ibG9jaycpO1xuXHRcdFx0XHRcdFx0XHRwaG90b3NbbmV4dEluZGV4XS5jbGFzc0xpc3QuYWRkKCdkLWJsb2NrJyk7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gaW5kZXggPT09IHBob3Rvcy5sZW5ndGggLSAxID8gMCA6IGluZGV4ICsgMTtcblx0XHRcdFx0XHRcdFx0bmV4dEluZGV4ID0gbmV4dEluZGV4ID09PSBwaG90b3MubGVuZ3RoIC0gMSA/IDAgOiBuZXh0SW5kZXggKyAxO1xuXHRcdFx0XHRcdFx0fSwgNzUwKTtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0aWYgKG5leHRJbWcuY29tcGxldGUpIHtcblx0XHRcdFx0XHRcdHJvdGF0ZVBob3RvcygpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRuZXh0SW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHJvdGF0ZVBob3RvcygpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0Y3Jld21lbWJlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuXHRcdFx0XHRjcmV3bWVtYmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2QtYmxvY2snKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdkLWJsb2NrJyk7XG5cdFx0XHRcdHBob3Rvc1swXS5jbGFzc0xpc3QuYWRkKCdkLWJsb2NrJyk7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn0iLCJpbXBvcnQgJy4vbmF2YmFyJztcbmltcG9ydCAnLi9zbGlkZXInO1xuaW1wb3J0ICcuL3BhZ2UtaGVhZGVyJztcbmltcG9ydCAnLi9jcmV3JzsiLCJjb25zdCBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2l0ZS1uYXYnKTtcblxuaWYgKG5hdikge1xuXHRjb25zdCBtZW51VG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnUtdG9nZ2xlJyk7XG5cblx0aWYgKG1lbnVUb2dnbGUpIHtcblx0XHRtZW51VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRtZW51VG9nZ2xlLmNsYXNzTGlzdC50b2dnbGUoJ2NvbGxhcHNlZCcpO1xuXHRcdFx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ2NvbGxhcHNlZCcpO1xuXHRcdH0pO1xuXHR9XG59IiwiY29uc3QgcG9zdFRodW1ibmFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bvc3QtdGh1bWJuYWlsJylbMF07XG5pZiAocG9zdFRodW1ibmFpbCkge1xuXHRnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuXHRcdGNvbnN0IHkgPSBnbG9iYWwuc2Nyb2xsWTtcblx0XHRwb3N0VGh1bWJuYWlsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKC0ke3BhcnNlSW50KHkgLyAyLCAxMCl9cHgpYDtcblx0fSk7XG59IiwiY29uc3QgdGlueVNsaWRlciA9IGdsb2JhbC50bnM7XG5jb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyJyk7XG5pZiAodGlueVNsaWRlciAmJiBzbGlkZXIpIHtcblx0dGlueVNsaWRlcih7XG5cdFx0Y29udGFpbmVyOiBzbGlkZXIsXG5cdFx0bW9kZTogc2xpZGVyLmRhdGFzZXQubW9kZSB8fCAnY2Fyb3VzZWwnLFxuXHRcdGxhenlsb2FkOiBzbGlkZXIuZGF0YXNldC5sYXp5bG9hZCB8fCBmYWxzZSxcblx0XHRjb250cm9sczogc2xpZGVyLmRhdGFzZXQuY29udHJvbHMgfHwgZmFsc2UsXG5cdFx0bmF2OiBzbGlkZXIuZGF0YXNldC5uYXYgfHwgZmFsc2UsXG5cdFx0YXV0b3BsYXk6IHNsaWRlci5kYXRhc2V0LmF1dG9wbGF5IHx8IHRydWUsXG5cdFx0dG91Y2g6IHNsaWRlci5kYXRhc2V0LnRvdWNoIHx8IGZhbHNlXG5cdH0pO1xufSJdfQ==
